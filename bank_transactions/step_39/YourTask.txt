Далее реализуем нашу идею следующим образом:

- создадим класс TransactionFactory для того, чтобы
поместить в него код создания объектов транзакций;
- откажемся от immutable объектов;
- создадим класс TransactionImpl - реальный класс транзакцию
  с ее свойствами и сделаем его package level access;
- интерфейс Transaction сделаем публичным.

Реализацию этих идей вы можете найти в коде.

Теперь с помощью класса TransactionFactory из вне domain пакета
можно создать правильные DEPOSIT и WITHDRAWAL транзакции.