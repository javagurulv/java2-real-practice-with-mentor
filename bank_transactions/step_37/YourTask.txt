В классе TransactionTest мы добавили тесты демонстрирующие
разные варианты создания объектов Transaction:

org/javaguru/banktransactions/TransactionTest.java


На лицо очевидная проблема - наш код позволяет создавать
DEPOSIT транзакции с указанием значения свойства expenseCategory!

Если код оставить как есть, то в будущем, кто-то обязательно
воспользуется "дыркой" (недочётом) в нашем решении и создаст
DEPOSIT транзакции с указанием значения свойства expenseCategory.

Это может повлиять на функциональность анализ расходов. Она начнёт
учитывать в расходах так же DEPOSIT транзакции у которых
указано свойство expenseCategory.

Если есть возможность - ей обязательно кто-то воспользуется
в не зависимости от того будет ли это корректно или нет!

Поэтому, нам нужно найти способ как разрешить создавать
WITHDRAWAL транзакции с указанием обязательного свойства expenseCategory,
а для DEPOSIT транзакций при создании не указывать значение
свойства expenseCategory.

Как это можно сделать?

Что нужно изменить в коде?

Попробуйте придумать решение!

Любые идеи принимаются! Даже самые смелые!